(this.webpackJsonpre_vs_100=this.webpackJsonpre_vs_100||[]).push([[0],{48:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(29),s=n.n(a),u=n(4),i=n.n(u),o=n(8),j=n(7),b=n(18);n(37),n(49),n(50);b.a.initializeApp({apiKey:"AIzaSyCNEEZVWLepSVn_ennOWsbwjL8E2wqnbpQ",authDomain:"re-vs-100-8ec8b.firebaseapp.com",projectId:"re-vs-100-8ec8b",storageBucket:"re-vs-100-8ec8b.appspot.com",messagingSenderId:"400681423336",appId:"1:400681423336:web:13667d56d28179863d545d"});var d=b.a,l=b.a.auth(),O=b.a.firestore(),h=(b.a.storage(),n(25)),p=n(6),x=n(1),f=function(e){var t=e.userObj,n=Object(r.useState)(""),c=Object(j.a)(n,2),a=c[0],s=c[1],u=Object(r.useState)(""),b=Object(j.a)(u,2),d=b[0],l=b[1],h=Object(r.useState)(""),f=Object(j.a)(h,2),v=f[0],w=f[1],m=Object(p.f)(),g=function(e){var t=e.target,n=t.name,r=t.value;"name"===n?s(r):"alias"===n?l(r):"number"===n&&w(r)},k=function(){var e=Object(o.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,O.collection("users").add({uid:t.uid,name:a,alias:d,number:v,isAdmin:!1});case 3:alert("\uac00\uc785\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),m.go(0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{children:"\ub3c4\uc804\uc790 \uc815\ubcf4"}),Object(x.jsxs)("form",{onSubmit:k,children:[Object(x.jsx)("input",{name:"name",type:"text",placeholder:"\uc774\ub984",required:!0,value:a,onChange:g}),Object(x.jsx)("input",{name:"alias",type:"text",placeholder:"\ub2c9\ub124\uc784",required:!0,value:d,onChange:g}),Object(x.jsx)("input",{name:"number",type:"tel",placeholder:"010-1234-5678",pattern:"[0-9]{3}-[0-9]{4}-[0-9]{4}",required:!0,value:v,onChange:g}),Object(x.jsx)("input",{type:"submit",onSubmit:k})]})]})},v=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],a=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new d.auth.GoogleAuthProvider,e.next=3,l.signInWithPopup(t);case 3:c(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:n?Object(x.jsx)(f,{}):Object(x.jsx)("button",{onClick:a,name:"google",children:"\uad6c\uae00 \uc544\uc774\ub514\ub85c \ub85c\uadf8\uc778\ud558\uae30"})})},w=n(31),m=function(e){var t=e.quizs,n=e.currentQuiz,r=e.showAnswer,c=t[n],a=c.no,s=c.question,u=c.answers;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"title",children:[" Q",a,". "]}),Object(x.jsxs)("div",{className:"question",children:[" ",s," "]}),Object(x.jsxs)("div",{className:"answer",children:["\uc815\ub2f5 : ",r?u[0]:"???"]})]})},g=function(e){var t=e.participants,n=e.corrects;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:["\ub3c4\uc804\uc790 : ",t,"\uba85"]}),Object(x.jsxs)("div",{children:["\uc0dd\uc874\uc790 : ",n,"\uba85"]}),Object(x.jsxs)("div",{children:["\ud0c8\ub77d\uc790 : ",t-n,"\uba85"]})]})})},k=n(28),_=function(e){var t=e.no,n=e.userObj,c=e.doc_user_id,a=e.answers,s=e.currentQuiz,u=n.uid,b=n.name,d=n.number,l=n.isAdmin,h=a[s],p=h.answer1,f=h.answer2,v=h.answer3,w=Object(r.useState)(""),m=Object(j.a)(w,2),g=m[0],_=m[1],S=function(e){e.preventDefault();var t=e.target.value;_(t)},z={uid:u,name:b,answer:g,number:d,isAdmin:l},y=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==g){e.next=5;break}return alert("\uc815\ub2f5\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 5:if(e.t0=l,!e.t0){e.next=9;break}return e.next=9,O.collection("users").doc(c).update(Object(k.a)({},"quiz_"+t,!0));case 9:return e.next=11,O.collection("current").doc("current").update({showAnswer:!0});case 11:return!l&&alert("\uc815\ub2f5\uc774 \uc81c\ucd9c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),e.next=14,O.collection("quiz_"+t).add(z);case 14:return e.next=16,O.collection("users").doc(c).update(Object(k.a)({},"quiz_"+t,!0));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("button",{value:"1\ubc88",onClick:S,children:["1\ubc88 ",Object(x.jsx)("br",{}),p]}),Object(x.jsxs)("button",{value:"2\ubc88",onClick:S,children:["2\ubc88",Object(x.jsx)("br",{}),f]}),Object(x.jsxs)("button",{value:"3\ubc88",onClick:S,children:["3\ubc88",Object(x.jsx)("br",{}),v]}),Object(x.jsx)("button",{onClick:y,children:"\uc81c\ucd9c"})]})},S=function(e,t,n){return{no:e,question:t,answers:n}},z=[S(1,"\ud638\uc2a4\ud2b8\uc778 \uc548\ud0dc\ud638 \ubc97\ub2d8\uc740 1997\ub144\uc0dd(\ube60\ub978)\uc774\ub2e4. \n  \uadf8\ub807\ub2e4\uba74 1997\ub144\ub3c4\uc758 \ubd80\ud65c\uc808\uc740 \ub2e4\uc74c \uc911 \uc5b8\uc81c\uc600\uc744\uae4c?",["3\ubc88"]),S(2,"\ub3c4\ub9c8\ub294 \ubd80\ud65c\ud558\uc2e0 \uc608\uc218\ub2d8\uc758 \ubabb\uc790\uad6d\uc744 \ubcf4\uace0\uc790 \ud588\uc2b5\ub2c8\ub2e4. \n    \ub3c4\ub9c8\uac00 \ubcf4\uae38 \uc6d0\ud588\ub358 \uc608\uc218\ub2d8\uc758 \ubabb\uc790\uad6d\uc774 \uc544\ub2cc \uacf3\uc740?",["2\ubc88"]),S(3,"\uc608\uc218\ub2d8\uc774 \uba70\uce60\ub9cc\uc5d0 \ubd80\ud65c\ud558\uc168\ub098\uc694?",["3\ubc88"])],y=function(e,t,n){return{answer1:e,answer2:t,answer3:n}},A=[y("1997\ub144 4\uc6d4 7\uc77c","1997\ub144 4\uc6d4 15\uc77c","1997\ub144 3\uc6d4 30\uc77c"),y("\uc190","\ubc1c","\uc606\uad6c\ub9ac"),y("\ub098\ud758","4\uc77c","\uc0ac\ud758")],C=function(e){var t=e.userObj,n=e.doc_user_id,c=e.currentInfo,a=c.currentQuiz,s=c.showAnswer,u=t.isAdmin,b=Object(r.useState)(!1),d=Object(j.a)(b,2),l=d[0],h=d[1],p=Object(r.useState)(0),f=Object(j.a)(p,2),v=f[0],k=f[1],S=Object(r.useState)(0),y=Object(j.a)(S,2),C=y[0],F=y[1],I=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection("current").doc("current").update({currentQuiz:a-1,showAnswer:!1});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection("current").doc("current").update({currentQuiz:a+1,showAnswer:!1});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection("current").doc("current").update({showHint:!0});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection("current").doc("current").update({isDone:!0});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(t["quiz_"+z[a].no]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){D()}),[a,t]),Object(r.useEffect)((function(){var e=z[a],t=e.no,n=e.answers;O.collection("quiz_"+t).onSnapshot((function(e){var t=e.docs.map((function(e){return e.data()}));k(t.length);var r=0,c=[];t.forEach((function(e){var t;t=e.answer,n.includes(t)?r++:c=[].concat(Object(w.a)(c),[e])})),F(r)}))}),[a]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m,{quizs:z,currentQuiz:a,showAnswer:s}),u&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{onClick:I,children:"\uc774\uc804"}),Object(x.jsx)("button",{onClick:q,children:"\ub2e4\uc74c"}),Object(x.jsx)("button",{onClick:Q,children:"\ud78c\ud2b8"}),Object(x.jsx)("button",{onClick:E,children:"\uacb0\uacfc"}),Object(x.jsx)("br",{})]}),z.length&&!s&&(l?Object(x.jsx)("h4",{children:"\uc815\ub2f5\uc744 \uc81c\ucd9c\ud558\uc168\uc2b5\ub2c8\ub2e4"}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(_,{no:z[a].no,userObj:t,doc_user_id:n,answers:A,currentQuiz:a})})),Object(x.jsx)(g,{participants:v,corrects:C})]})},F=function(){return Object(x.jsx)("div",{children:"\ud55c\ubc97\ub2d8 \ucc2c\uc2a4!"})},I=function(){return Object(x.jsx)("div",{children:"\ubc97\ub2d8\ub4e4 \ucc2c\uc2a4!"})},q=function(e){e.isAdmin;var t=Object(r.useState)(!1),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(!1),u=Object(j.a)(s,2),b=u[0],d=u[1],l=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,O.collection("current").doc("current").update({showHint:!0});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,O.collection("current").doc("current").update({showHint:!0});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection("current").doc("current").update({showHint:!1});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(x.Fragment,{children:c?Object(x.jsx)(F,{}):Object(x.jsx)("button",{onClick:l,children:"\ud55c\ubc97\ub2d8 \ucc2c\uc2a4"})}),Object(x.jsx)(x.Fragment,{children:b?Object(x.jsx)(I,{}):Object(x.jsx)("button",{onClick:h,children:"\ubc97\ub2d8\ub4e4 \ucc2c\uc2a4"})}),Object(x.jsx)("button",{onClick:p,children:"\ud034\uc988\ub85c \ub3cc\uc544\uac00\uae30"})]})},Q=function(e){return Object(x.jsx)("div",{children:"\ucd5c\ud6c4\uc758 \uc0dd\uc874\uc790"})},E=function(){var e=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection("current").doc("current").update({toQuiz:!0});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Rules"}),Object(x.jsxs)("div",{children:["1.3\uac1c\uc758 \ubcf4\uae30 \uc911 \uc815\ub2f5\uc744 \uace0\ub978\ub2e4. ",Object(x.jsx)("br",{}),"2.100\uc778\uc774 \uba3c\uc800 \ubb38\uc81c\ub97c \ub2e4 \ud47c \ud6c4, \uac8c\uc2a4\ud2b8 2\uc778\uc774 \ud47c\ub2e4. ",Object(x.jsx)("br",{}),"3.\ubb38\uc81c\ub97c \ud478\ub294 \ub370\ub294 1\ubd84\uc758 \uc2dc\uac04\uc81c\ud55c\uc774 \uc788\ub2e4. ",Object(x.jsx)("br",{}),"4.\ubb38\uc81c\ub97c \ud2c0\ub9ac\uba74 \ud0c8\ub77d\uc774\uba70, \uc815\ub2f5\uc790\ub9cc \ub2e4\uc74c \ubb38\uc81c\ub85c \ub118\uc5b4\uac04\ub2e4.(\uc911\uac04 \ucc38\uc5ec \ubd88\uac00\ub2a5) ",Object(x.jsx)("br",{}),"5. \uc815\ub2f5\uc790\uac00 8\uba85(?) \uc774\ud558\ub85c \ub0a8\uc73c\uba74 \ud504\ub85c\uadf8\ub7a8\uc774 \uc885\ub8cc\ud55c\ub2e4. ",Object(x.jsx)("br",{}),"6. \uac8c\uc2a4\ud2b8 2\uba85\uc740 \ud568\uaed8 2\ubc88\uc758 \ucc2c\uc2a4\ub97c \uc4f8 \uc218 \uc788\ub2e4.",Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),"\ud55c\ubc97\ub2d8 \ucc2c\uc2a4 : \uc6d0\ud558\ub294 \ud55c \uba85\uc758 \ub2f5\uc744 \uc54c \uc218 \uc788\ub2e4, \uc5c6\uc744 \uc2dc \ud638\uc2a4\ud2b8\uac00 \uc9c0\uc815. ",Object(x.jsx)("br",{}),"\ubc97\ub2d8\ub4e4 \ucc2c\uc2a4 : \ubaa8\ub4e0 \ubc97\ub2d8\uc774 \uc120\ud0dd\ud55c \ub2f5\uc744 \uc54c \uc218 \uc788\ub2e4."]}),Object(x.jsx)("button",{onClick:e,children:"ToQuiz"})]})},D=function(e){var t=e.isLoggedIn,n=e.userObj,r=e.hasAccount,c=e.doc_user_id,a=e.currentInfo;return Object(x.jsx)(h.a,{children:Object(x.jsx)(p.c,{children:t?Object(x.jsx)(x.Fragment,{children:r?Object(x.jsx)(x.Fragment,{children:a.showHint?Object(x.jsx)(p.a,{exact:!0,path:"/",children:Object(x.jsx)(q,{userObj:n,doc_user_id:c,currentInfo:a})}):Object(x.jsx)(x.Fragment,{children:a.toQuiz?Object(x.jsx)(x.Fragment,{children:a.isDone?Object(x.jsx)(p.a,{exact:!0,path:"/",children:Object(x.jsx)(Q,{userObj:n,doc_user_id:c,currentInfo:a})}):Object(x.jsx)(p.a,{exact:!0,path:"/",children:Object(x.jsx)(C,{userObj:n,doc_user_id:c,currentInfo:a})})}):Object(x.jsx)(p.a,{path:"/",children:Object(x.jsx)(E,{userObj:n,doc_user_id:c,currentInfo:a})})})}):Object(x.jsx)(p.a,{exact:!0,path:"/",children:Object(x.jsx)(f,{userObj:n})})}):Object(x.jsx)(p.a,{exact:!0,path:"/",children:Object(x.jsx)(v,{})})})})};var H=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(null),s=Object(j.a)(a,2),u=s[0],b=s[1],d=Object(r.useState)(!1),h=Object(j.a)(d,2),p=h[0],f=h[1],v=Object(r.useState)(""),w=Object(j.a)(v,2),m=w[0],g=w[1],k=Object(r.useState)({currentQuiz:0,showAnswer:!1,showHint:!1,toQuiz:!1,isDone:!1}),_=Object(j.a)(k,2),S=_[0],z=_[1];return Object(r.useEffect)((function(){l.onAuthStateChanged(function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,O.collection("users").where("uid","==",t.uid).get();case 3:n=e.sent,f(Boolean(n.docs.length));try{b(n.docs[0].data()),g(n.docs[0].id)}catch(r){b(t)}e.next=9;break;case 8:b(null);case 9:c(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O.collection("current").doc("current").onSnapshot((function(e){z(e.data())}))}),[]),Object(r.useEffect)((function(){m&&O.collection("users").doc(m).onSnapshot((function(e){b(e.data())}))}),[m]),Object(x.jsx)(x.Fragment,{children:n?Object(x.jsx)(D,{isLoggedIn:Boolean(u),userObj:u,hasAccount:p,doc_user_id:m,currentInfo:S}):"Initializing..."})};s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(H,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.a68507c3.chunk.js.map